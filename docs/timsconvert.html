
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>timsconvert package &#8212; TIMSCONVERT 1.4.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Advanced Usage" href="advanced.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="timsconvert-package">
<h1>timsconvert package<a class="headerlink" href="#timsconvert-package" title="Permalink to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-timsconvert.arguments">
<span id="timsconvert-arguments-module"></span><h2>timsconvert.arguments module<a class="headerlink" href="#module-timsconvert.arguments" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.arguments.args_check">
<span class="sig-prename descclassname"><span class="pre">timsconvert.arguments.</span></span><span class="sig-name descname"><span class="pre">args_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.arguments.args_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check relevant arguments to ensure user input values are valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<em>dict</em>) – Arguments obtained from timsconvert.arguments.get_args().</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.arguments.get_args">
<span class="sig-prename descclassname"><span class="pre">timsconvert.arguments.</span></span><span class="sig-name descname"><span class="pre">get_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">server</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.arguments.get_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse command line parameters, including required, optional, and system parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> (<em>bool</em>) – If enabled, allows the user to specify a custom url using the “–url” parameter, defaults to False</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Arguments with default or user specified values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-timsconvert.classes">
<span id="timsconvert-classes-module"></span><h2>timsconvert.classes module<a class="headerlink" href="#module-timsconvert.classes" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="timsconvert.classes.TimsconvertBafData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">timsconvert.classes.</span></span><span class="sig-name descname"><span class="pre">TimsconvertBafData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bruker_d_folder_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baf2sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_calibration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_variables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.classes.TimsconvertBafData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BafData</span></code></p>
<p>Child class of pyBaf2Sql.classes.BafData containing metadata from BAF files and methods from Baf2sql library to
work with BAF format data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bruker_d_folder_name</strong> (<em>str</em>) – Path to Bruker .d directory containing analysis.baf and analysis.sqlite.</p></li>
<li><p><strong>baf2sql</strong> (<em>ctypes.CDLL</em>) – Library initialized by pyBaf2Sql.init_baf2sql.init_baf2sql_api().</p></li>
<li><p><strong>raw_calibration</strong> (<em>bool</em>) – Whether to use recalibrated data (False) or not (True), defaults to False.</p></li>
<li><p><strong>all_variables</strong> (<em>bool</em>) – Whether to load all variables from analysis.sqlite database, defaults to True.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="timsconvert.classes.TimsconvertBafData.subset_ms1_frames">
<span class="sig-name descname"><span class="pre">subset_ms1_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.classes.TimsconvertBafData.subset_ms1_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset timsconvert.classes.BafData.frames table (Spectra table from analysis.sqlite) to only include MS1 rows.
Used during the subsetting process during data parsing/writing for memory efficiency. The subset
pandas.DataFrame is stored in timsconvert.classes.TimsconvertBafData.ms1_frames.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="timsconvert.classes.TimsconvertTdfData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">timsconvert.classes.</span></span><span class="sig-name descname"><span class="pre">TimsconvertTdfData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bruker_d_folder_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdf_sdk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_recalibrated_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pressure_compensation_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">PressureCompensationStrategy.NoPressureCompensation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.classes.TimsconvertTdfData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">TdfData</span></code></p>
<p>Child class of pyTDFSDK.classes.TdfData containing metadata from TDF files and methods from TDF-SDK library to work
with TDF format data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bruker_d_folder_name</strong> (<em>str</em>) – Path to a Bruker .d directory containing analysis.tdf.</p></li>
<li><p><strong>tdf_sdk</strong> (<em>ctypes.CDLL</em>) – Library initialized by pyTDFSDK.init_tdf_sdk.init_tdf_sdk_api().</p></li>
<li><p><strong>use_recalibrated_state</strong> (<em>bool</em>) – Whether to use recalibrated data (True) or not (False), defaults to True.</p></li>
<li><p><strong>pressure_compensation_strategy</strong> (<em>enum.Enum</em>) – Pressure compensation when opening TDF data
(pyTDFSDK.ctypes_data_structures.PressureCompensationStrategy.NoPressureCompensation = None,
pyTDFSDK.ctypes_data_structures.PressureCompensationStrategy.AnalyisGlobalPressureCompensation = analysis
global pressure compensation,
pyTDFSDK.ctypes_data_structures.PressureCompensationStrategy.PerFramePressureCompensation = per frame pressure
compensation), defaults to No Pressure Compensation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="timsconvert.classes.TimsconvertTdfData.subset_ms1_frames">
<span class="sig-name descname"><span class="pre">subset_ms1_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.classes.TimsconvertTdfData.subset_ms1_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset timsconvert.classes.TdfData.frames table (Frames table from analysis.tdf) to only include MS1 rows.
Used during the subsetting process during data parsing/writing for memory efficiency. The subset
pandas.DataFrame is stored in timsconvert.classes.TimsconvertTdfData.ms1_frames.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="timsconvert.classes.TimsconvertTsfData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">timsconvert.classes.</span></span><span class="sig-name descname"><span class="pre">TimsconvertTsfData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bruker_d_folder_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdf_sdk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_recalibrated_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.classes.TimsconvertTsfData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">TsfData</span></code></p>
<p>Child class of pyTDFSDK.classes.TsfData containing metadata from TSF files and methods from TDF-SDK library to work
with TSF format data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bruker_d_folder_name</strong> (<em>str</em>) – Path to a Bruker .d directory containing analysis.tsf.</p></li>
<li><p><strong>tdf_sdk</strong> (<em>ctypes.CDLL</em>) – Library initialized by pyTDFSDK.init_tdf_sdk.init_tdf_sdk_api().</p></li>
<li><p><strong>use_recalibrated_state</strong> (<em>bool</em>) – Whether to use recalibrated data (True) or not (False), defaults to True.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="timsconvert.classes.TimsconvertTsfData.subset_ms1_frames">
<span class="sig-name descname"><span class="pre">subset_ms1_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.classes.TimsconvertTsfData.subset_ms1_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Subset timsconvert.classes.TsfData.frames table (Frames table from analysis.tsf) to only include MS1 rows.
Used during the subsetting process during data parsing/writing for memory efficiency. The subset
pandas.DataFrame is stored in timsconvert.classes.TimsconvertTsfData.ms1_frames.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-timsconvert.constants">
<span id="timsconvert-constants-module"></span><h2>timsconvert.constants module<a class="headerlink" href="#module-timsconvert.constants" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-timsconvert.data_input">
<span id="timsconvert-data-input-module"></span><h2>timsconvert.data_input module<a class="headerlink" href="#module-timsconvert.data_input" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.data_input.dot_d_detection">
<span class="sig-prename descclassname"><span class="pre">timsconvert.data_input.</span></span><span class="sig-name descname"><span class="pre">dot_d_detection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.data_input.dot_d_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the input directory and any subdirectories for .d directory paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>input_directory</strong> – Path to the directory to be searched.</p>
</dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of absolute paths for each .d directory found.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.data_input.schema_detection">
<span class="sig-prename descclassname"><span class="pre">timsconvert.data_input.</span></span><span class="sig-name descname"><span class="pre">schema_detection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bruker_dot_d_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.data_input.schema_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect the schema used by the raw data in the Bruker .d directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bruker_dot_d_file</strong> – Path to the .d directory of interest.</p>
</dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Capitalized schema extension (TDF, TSF, or BAF).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="timsconvert-init-bruker-dll-module">
<h2>timsconvert.init_bruker_dll module<a class="headerlink" href="#timsconvert-init-bruker-dll-module" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-timsconvert.parse">
<span id="timsconvert-parse-module"></span><h2>timsconvert.parse module<a class="headerlink" href="#module-timsconvert.parse" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.bin_profile_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">bin_profile_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mz_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.bin_profile_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin profile mode spectrum into N number of bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mz_array</strong> (<em>numpy.array</em>) – Array containing m/z values.</p></li>
<li><p><strong>intensity_array</strong> (<em>numpy.array</em>) – Array containing intensity values.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of binned_mz_array (np.array) and binned_intensity_array (np.array).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.extract_2d_tdf_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">extract_2d_tdf_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.extract_2d_tdf_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract spectrum from TDF data with m/z and intensity arrays. Spectrum can either be centroid or quasi-profile
mode. “Raw” mode uses pyTDFSDK.tims.tims_read_scans_v2() method, while “centroid” mode uses
pyTDFSDK.tims.tims_extract_centroided_spectrum_for_frame_v2() method. “Profile” mode uses
pyTDFSDK.tims.tims_extract_profile_for_frame() to extrapolate a quasi-profile spectrum from centroid raw data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tdf_data object containing metadata from analysis.tdf database.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>frame</strong> (<em>int</em>) – Frame ID from the Frames table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>scan_begin</strong> (<em>int</em>) – Beginning scan number (corresponding to 1/K0 value) within frame.</p></li>
<li><p><strong>scan_end</strong> (<em>int</em>) – Ending scan number (corresponding to 1/K0 value) within frame (non-inclusive).</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of mz_array (np.array) and intensity_array (np.array) or (None, None) if spectra are empty.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.array | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.extract_3d_tdf_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">extract_3d_tdf_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_begin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.extract_3d_tdf_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract spectrum from TDF data with m/z and intensity arrays. Spectrum can either be centroid or quasi-profile
mode. “Raw” and “centroid” modes uses pyTDFSDK.tims.tims_read_scans_v2(). “Profile” mode data is not available due
to the resulting data size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tdf_data object containing metadata from analysis.tdf database.</p></li>
<li><p><strong>frame</strong> (<em>int</em>) – Frame ID from the Frames table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>scan_begin</strong> (<em>int</em>) – Beginning scan number (corresponding to 1/K0 value) within frame.</p></li>
<li><p><strong>scan_end</strong> (<em>int</em>) – Ending scan number (corresponding to 1/K0 value) within frame (non-inclusive).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of mz_array (np.array), intensity_array (np.array), and mobility_array (np.array) or
(None, None, None) if spectra are empty.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.array | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.extract_baf_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">extract_baf_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frames_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.extract_baf_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract spectrum from BAF data with m/z and intensity arrays. Spectrum can either be centroid or profile mode. If
“raw” mode is chosen, centroid mode will automatically be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – baf_data object containing metadata from analysis.sqlite database.</p></li>
<li><p><strong>frames_dict</strong> (<em>dict</em>) – A row from the Spectra table in analysis.sqlite database.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of mz_array (np.array) and intensity_array (np.array).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.extract_ddapasef_precursor_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">extract_ddapasef_precursor_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pasefframemsmsinfo_dicts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.extract_ddapasef_precursor_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract spectrum from TDF data with m/z and intensity arrays. Spectrum can either be centroid or quasi-profile
mode. “Raw” mode uses pyTDFSDK.tims.tims_read_scans_v2() method, while “centroid” mode uses
pyTDFSDK.tims.tims_extract_centroided_spectrum_for_frame_v2() method. “Profile” mode uses
pyTDFSDK.tims.tims_extract_profile_for_frame() to extrapolate a quasi-profile spectrum from centroid raw data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tdf_data object containing metadata from analysis.tdf database.</p></li>
<li><p><strong>pasefframemsmsinfo_dicts</strong> (<em>dict</em>) – A row from the PasefFrameMsmsInfo table in analysis.tdf database.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of mz_array (np.array) and intensity_array (np.array) or (None, None) if spectra are empty.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.array | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.extract_tsf_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">extract_tsf_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.extract_tsf_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract spectrum from TSF data with m/z and intensity arrays. Spectrum can either be centroid or quasi-profile
mode. If “raw” mode is chosen, centroid mode will automatically be used. “Centroid” mode uses
pyTDFSDK.tsf.tsf_read_line_spectrum_v2() method. “Profile” mode uses pyTDFSDK.tsf.tsf_read_profile_spectrum_v2() to
extrapolate a quasi-profile spectrum from centroid raw data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tsf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a>) – tsf_data object containing metadata from analysis.tsf database.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>frame</strong> (<em>int</em>) – Frame ID from the Frames table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of mz_array (np.array) and intensity_array (np.array).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.array]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.get_baf_spectrum_polarity">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">get_baf_spectrum_polarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acquisitionkey_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.get_baf_spectrum_polarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Use BAF metadata to transcribe polarity into psims compatible format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>acquisitionkey_dict</strong> (<em>dict</em>) – A row from the AcquisitionKey table in analysis.sqlite database for BAF files.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>“+” for positive mode or “-” for negative mode.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.get_centroid_status">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">get_centroid_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.get_centroid_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Use “mode” command line parameter to determine whether output data is centroided in psims compatible format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em><em> | </em><em>None</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple of (centroided status (bool), exclude_mobility status (bool))</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple[bool]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.get_encoding_dtype">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">get_encoding_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.get_encoding_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Use “encoding” command line parameter to determine numpy dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Numpy dtype, either float64 or float32</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.dtype</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.get_maldi_coords">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">get_maldi_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maldiframeinfo_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.get_maldi_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Get tuple of MALDI coordinates from analysis.tsf/analysis.tdf metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – Object containing metadata from analysis.tsf/analysis.tdf database.</p></li>
<li><p><strong>maldiframeinfo_dict</strong> (<em>dict</em>) – A row from the MaldiFrameInfo table in analysis.tsf/analysis.tdf database.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>x-y (or x-y-z if available) coordinates for the current spectrum.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.init_scan_dict">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">init_scan_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.init_scan_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize dictionary to store spectrum data. All values are initialized as None.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.parse_lcms_baf">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">parse_lcms_baf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.parse_lcms_baf" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse group of frames from LC-MS(/MS) data from Bruker BAF files acquired in MS1 only, Auto MS/MS, MRM MS/MS, isCID
MS/MS, or bbCID MS/MS mode in otofControl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – baf_data object containing metadata from analysis.sqlite database.</p></li>
<li><p><strong>frame_start</strong> (<em>int</em>) – Beginning frame number.</p></li>
<li><p><strong>frame_stop</strong> (<em>int</em>) – Ending frame number (non-inclusive).</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (list of dictionaries containing MS1 spectrum data, list of dictionaries containing MS/MS</p>
</dd>
</dl>
<p>spectrum data).
:rtype: tuple[list[dict]]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.parse_lcms_tdf">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">parse_lcms_tdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.parse_lcms_tdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse group of frames from LC-MS(/MS) data from Bruker TDF files acquired in MS1 only, ddaPASEF MS/MS, diaPASEF
MS/MS, bbCID MS/MS, MRM MS/MS, or prmPASEF MS/MS mode in timsControl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tdf_data object containing metadata from analysis.tdf database.</p></li>
<li><p><strong>frame_start</strong> (<em>int</em>) – Beginning frame number.</p></li>
<li><p><strong>frame_stop</strong> (<em>int</em>) – Ending frame number (non-inclusive).</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em><em> | </em><em>None</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (list of dictionaries containing MS1 spectrum data, list of dictionaries containing MS/MS
spectrum data).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[list[dict]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.parse_lcms_tsf">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">parse_lcms_tsf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.parse_lcms_tsf" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse group of frames from LC-MS(/MS) data from Bruker TSF files acquired in Auto MS/MS mode MS1 only, Auto MS/MS,
MRM MS/MS, or bbCID MS/MS mode in timsControl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tsf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a>) – tsf_data object containing metadata from analysis.tsf database.</p></li>
<li><p><strong>frame_start</strong> (<em>int</em>) – Beginning frame number.</p></li>
<li><p><strong>frame_stop</strong> (<em>int</em>) – Ending frame number (non-inclusive).</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (list of dictionaries containing MS1 spectrum data, list of dictionaries containing MS/MS
spectrum data).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[list[dict]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.parse_maldi_plate_map">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">parse_maldi_plate_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plate_map_filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.parse_maldi_plate_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a MALDI plate map from a CSV file without a column header or row index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>plate_map_filename</strong> (<em>str</em>) – Path to the MALDI plate map in CSV format.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard MTP spot names as the key and spot label/category/condition as the value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.parse_maldi_tdf">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">parse_maldi_tdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.parse_maldi_tdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse group of frames from MALDI-MS(/MS) data from Bruker TDF files acquired in MS1 only, MS/MS, or bbCID MS/MS
mode in timsControl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tdf_data object containing metadata from analysis.tdf database.</p></li>
<li><p><strong>frame_start</strong> (<em>int</em>) – Beginning frame number.</p></li>
<li><p><strong>frame_stop</strong> (<em>int</em>) – Ending frame number (non-inclusive).</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em><em> | </em><em>None</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dictionaries containing spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.parse_maldi_tsf">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">parse_maldi_tsf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tsf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.parse_maldi_tsf" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse group of frames from MALDI-MS(/MS) data from Bruker TSF files acquired in MS1 only, MS/MS, or bbCID MS/MS
mode in timsControl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tsf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a>) – tsf_data object containing metadata from analysis.tsf database.</p></li>
<li><p><strong>frame_start</strong> (<em>int</em>) – Beginning frame number.</p></li>
<li><p><strong>frame_stop</strong> (<em>int</em>) – Ending frame number (non-inclusive).</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dictionaries containing spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_baf_metadata">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_baf_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frames_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acquisitionkey_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_baf_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with global metadata for BAF files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>frames_dict</strong> (<em>dict</em>) – A row from the Spectra table in analysis.sqlite database for BAF files.</p></li>
<li><p><strong>acquisitionkey_dict</strong> (<em>dict</em>) – A row from the AcquisitionKey table in analysis.sqlite database for BAF files.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_baf_ms2">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_baf_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frames_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_baf_ms2" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with MS2 level metadata from BAF files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>baf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – baf_data object containing metadata from analysis.sqlite database.</p></li>
<li><p><strong>frames_dict</strong> (<em>dict</em>) – A row from the Spectra table in analysis.sqlite database.</p></li>
<li><p><strong>frame</strong> (<em>int</em>) – Frame ID from the Frames table in analysis.tdf/analysis.tsf or Spectra table in analysis.sqlite.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_bbcid_iscid_ms2">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_bbcid_iscid_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baf_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framemsmsinfo_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_bbcid_iscid_ms2" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with MS2 level metadata when using bbCID or isCID mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>frame</strong> (<em>int</em>) – Frame ID from the Frames table in analysis.tdf/analysis.tsf or Spectra table in analysis.sqlite
database.</p></li>
<li><p><strong>schema</strong> (<em>str</em>) – Schema as determined by timsconvert.data_input.schema_detection, either TDF, TSF, or BAF.</p></li>
<li><p><strong>baf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a><em> | </em><em>None</em>) – baf_data object containing metadata from analysis.sqlite database, defaults to None.</p></li>
<li><p><strong>framemsmsinfo_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – A row from the FrameMsmsInfo table in analysis.tsf/analysis.tdf database, defaults to
None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_ddapasef_ms2">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_ddapasef_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precursor_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pasefframemsmsinfo_dicts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_ddapasef_ms2" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with MS2 level metadata when using ddaPASEF mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>tdf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tdf_data object containing metadata from analysis.tdf database.</p></li>
<li><p><strong>precursor_dict</strong> (<em>dict</em>) – A row from the Precursor table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>pasefframemsmsinfo_dicts</strong> (<em>dict</em>) – A row from the PasefFrameMsmsInfo table in analysis.tdf/analysis.tsf database.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_diapasef_ms2">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_diapasef_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diaframemsmswindows_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_diapasef_ms2" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with MS2 level metadata when using diaPASEF mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>diaframemsmswindows_dict</strong> (<em>dict</em>) – A row from the DiaFrameMsmsWindows table in analysis.tdf/analysis.tsf database.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_lcms_tsf_tdf_metadata">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_lcms_tsf_tdf_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frames_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_lcms_tsf_tdf_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with global metadata for TDF and TSF files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>frames_dict</strong> (<em>dict</em>) – A row from the Frames table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em><em> | </em><em>None</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_maldi_metadata">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_maldi_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frames_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maldiframeinfo_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_maldi_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with global metadata from MALDI TDF/TSF files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tsf_data or tdf_data object containing metadata from analysis.tsf/analysis.tdf database.</p></li>
<li><p><strong>frames_dict</strong> (<em>dict</em>) – A row from the Frames table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>maldiframeinfo_dict</strong> (<em>dict</em>) – A row from the MaldiFrameInfo table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>frame</strong> (<em>int</em>) – Frame ID from the Frames table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_ms1">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_ms1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_ms1" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with MS1 level metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>frame</strong> – Frame ID from the Frames table in analysis.tdf/analysis.tsf or Spectra table in analysis.sqlite</p></li>
</ul>
</dd>
</dl>
<p>database.
:type frame: int
:return: Dictionary containing standard spectrum data.
:rtype: dict</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_prmpasef_ms2">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_prmpasef_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdf_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prmframemsmsinfo_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prmtargets_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_prmpasef_ms2" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with MS2 level metadata when using diaPASEF mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdf_data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a>) – tdf_data object containing metadata from analysis.tdf database.</p></li>
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>prmframemsmsinfo_dict</strong> (<em>dict</em>) – A row from the PrmFrameMsmsInfo table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>prmtargets_dict</strong> (<em>dict</em>) – A row from the PrmTargets table in analysis.tdf/analysis.tsf database.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_spectrum_data">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_spectrum_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mz_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_array</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_spectrum_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with binary data arrays and related metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>mz_array</strong> (<em>numpy.array</em>) – Array containing m/z values.</p></li>
<li><p><strong>intensity_array</strong> (<em>numpy.array</em>) – Array containing intensity values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.parse.populate_scan_dict_w_tsf_ms2">
<span class="sig-prename descclassname"><span class="pre">timsconvert.parse.</span></span><span class="sig-name descname"><span class="pre">populate_scan_dict_w_tsf_ms2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framemsmsinfo_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lcms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.parse.populate_scan_dict_w_tsf_ms2" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate spectrum data dictionary with MS2 level metadata from TSF files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scan_dict</strong> (<em>dict</em>) – Spectrum data dictionary generated from timsconvert.parse.init_scan_dict().</p></li>
<li><p><strong>framemsmsinfo_dict</strong> (<em>dict</em>) – A row from the FrameMsmsInfo table in analysis.tdf/analysis.tsf database.</p></li>
<li><p><strong>lcms</strong> (<em>bool</em>) – Whether the data is from an lcms dataset, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing standard spectrum data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-timsconvert.timestamp">
<span id="timsconvert-timestamp-module"></span><h2>timsconvert.timestamp module<a class="headerlink" href="#module-timsconvert.timestamp" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.timestamp.get_timestamp">
<span class="sig-prename descclassname"><span class="pre">timsconvert.timestamp.</span></span><span class="sig-name descname"><span class="pre">get_timestamp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.timestamp.get_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Get timestamp in ISO 8601 format.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>ISO 8601 format timestamp.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-timsconvert.write">
<span id="timsconvert-write-module"></span><h2>timsconvert.write module<a class="headerlink" href="#module-timsconvert.write" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.get_spectra_count">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">get_spectra_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.get_spectra_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the predicted number of spectra to be written.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> |
</em><a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – Object containing raw data information from TDF, TSF, or BAF file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of expected spectra.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.update_spectra_count">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">update_spectra_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_of_spectra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.update_spectra_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the actual number of spectra that were written to the output mzML file. Update is needed to prevent
counting emtpy spectra that were omitted from the output. Performs this by iterating over tmp mzML file that was
written and replacing the tmp file with a final mzML file with a true spectra count.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outdir</strong> (<em>str</em>) – Output directory path that was specified from the command line parameters or the original input
file path if no output directory was specified.</p></li>
<li><p><strong>outfile</strong> (<em>str</em>) – Output filename that was specified from the command line parameters or the original input filename
if no output filename was specified.</p></li>
<li><p><strong>num_of_spectra</strong> (<em>int</em>) – Number of spectra that was calculated for the current file being converted using
timsconvert.write.get_spectra_count().</p></li>
<li><p><strong>scan_count</strong> (<em>int</em>) – Final true count for the number of spectra from the current file being converted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_lcms_chunk_to_mzml">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_lcms_chunk_to_mzml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_lcms_chunk_to_mzml" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and write out a group of spectra to an mzML file from an LC-MS(/MS) dataset using psims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> |
</em><a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – Object containing raw data information from TDF, TSF, or BAF file.</p></li>
<li><p><strong>writer</strong> (<em>psims.mzml.MzMLWriter</em>) – Instance of psims.mzml.MzMLWriter for output file.</p></li>
<li><p><strong>frame_start</strong> (<em>int</em>) – Beginning frame number.</p></li>
<li><p><strong>frame_stop</strong> (<em>int</em>) – Ending frame number (non-inclusive).</p></li>
<li><p><strong>scan_count</strong> (<em>int</em>) – Current count for the number of spectra from the current file that have been converted.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
<li><p><strong>compression</strong> (<em>str</em>) – Compression command line parameter, either “zlib” or “none”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Updated count for the number of spectra from the current file that have been converted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_lcms_mzml">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_lcms_mzml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barebones_metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_lcms_mzml" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and write out spectra to an mzML file from an LC-MS(/MS) dataset using psims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> |
</em><a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – Object containing raw data information from TDF, TSF, or BAF file.</p></li>
<li><p><strong>infile</strong> (<em>str</em>) – Input file path to be used for source file metadata.</p></li>
<li><p><strong>outdir</strong> (<em>str</em>) – Output directory path that was specified from the command line parameters or the original input
file path if no output directory was specified.</p></li>
<li><p><strong>outfile</strong> (<em>str</em>) – Output filename that was specified from the command line parameters or the original input filename
if no output filename was specified.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
<li><p><strong>compression</strong> (<em>str</em>) – Compression command line parameter, either “zlib” or “none”.</p></li>
<li><p><strong>barebones_metadata</strong> (<em>bool</em>) – If True, omit software and data processing metadata in the resulting mzML files. Used
for compatibility with downstream analysis software that does not have support for newer CV params or
UserParams.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em>) – Number of MS1 spectra that to be used when subsetting dataset into smaller groups to pass onto
timsconvert.write.write_lcms_chunk_to_mzml() for memory efficiency; larger chunk_size requires more memory
during conversion.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_maldi_dd_mzml">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_maldi_dd_mzml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maldi_output_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barebones_metadata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_maldi_dd_mzml" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and write out spectra to an mzML file from a MALDI-MS(/MS) dried droplet dataset using psims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a>) – Object containing raw data information from TDF or TSF file.</p></li>
<li><p><strong>infile</strong> (<em>str</em>) – Input file path to be used for source file metadata.</p></li>
<li><p><strong>outdir</strong> (<em>str</em>) – Output directory path that was specified from the command line parameters or the original input
file path if no output directory was specified.</p></li>
<li><p><strong>outfile</strong> (<em>str</em>) – Output filename that was specified from the command line parameters or the original input filename
if no output filename was specified.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
<li><p><strong>compression</strong> (<em>str</em>) – Compression command line parameter, either “zlib” or “none”.</p></li>
<li><p><strong>maldi_output_file</strong> (<em>str</em>) – Determines whether all spectra from a given .d dataset are written to a single mzML file
(“combined”), written to individual mzML files (“individual”, i.e. one spectrum per file), or grouped to have
one mzML file per annotation/label/condition (“sample”, requires CSV plate_map to be specified).</p></li>
<li><p><strong>plate_map</strong> (<em>str</em>) – Path to the MALDI plate map in CSV format.</p></li>
<li><p><strong>barebones_metadata</strong> (<em>bool</em>) – If True, omit software and data processing metadata in the resulting mzML files. Used
for compatibility with downstream analysis software that does not have support for newer CV params or
UserParams.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_maldi_ims_chunk_to_imzml">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_maldi_ims_chunk_to_imzml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imzml_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_maldi_ims_chunk_to_imzml" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and write out a group of spectra to an imzML file from a MALDI-MS(/MS) MSI dataset using pyimzML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a>) – Object containing raw data information from TDF or TSF file.</p></li>
<li><p><strong>imzml_file</strong> (<em>pyimzml.ImzMLWriter.ImzMLWriter</em>) – Instance of pyimzml.ImzMLWriter.ImzMLWriter for output file.</p></li>
<li><p><strong>frame_start</strong> (<em>int</em>) – Beginning frame number.</p></li>
<li><p><strong>frame_stop</strong> (<em>int</em>) – Ending frame number (non-inclusive).</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_maldi_ims_imzml">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_maldi_ims_imzml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_mobility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imzml_mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_maldi_ims_imzml" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and write out spectra to an imzML file from a MALDI-MS(/MS) MSI dataset using pyimzML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a>) – Object containing raw data information from TDF or TSF file.</p></li>
<li><p><strong>outdir</strong> (<em>str</em>) – Output directory path that was specified from the command line parameters or the original input
file path if no output directory was specified.</p></li>
<li><p><strong>outfile</strong> (<em>str</em>) – Output filename that was specified from the command line parameters or the original input filename
if no output filename was specified.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>exclude_mobility</strong> (<em>bool</em>) – Whether to include mobility data in the output files, defaults to None.</p></li>
<li><p><strong>profile_bins</strong> (<em>int</em>) – Number of bins to bin spectrum to.</p></li>
<li><p><strong>imzml_mode</strong> (<em>str</em>) – Whether to export spectra in “processed” (individual m/z and intensity arrays per pixel) or
“continuous” mode (single m/z array for the entire dataset, individual intensity arrays per pixel).</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
<li><p><strong>compression</strong> (<em>str</em>) – Compression command line parameter, either “zlib” or “none”.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em>) – Number of MS1 spectra that to be used when subsetting dataset into smaller groups to pass onto
timsconvert.write.write_lcms_chunk_to_mzml() for memory efficiency; larger chunk_size requires more memory
during conversion.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_ms1_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_ms1_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_ms1_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an MS1 spectrum to an mzML file using psims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>writer</strong> (<em>psims.mzml.MzMLWriter</em>) – Instance of psims.mzml.MzMLWriter for output file.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> |
</em><a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – Object containing raw data information from TDF, TSF, or BAF file.</p></li>
<li><p><strong>scan</strong> (<em>dict</em>) – Dictionary containing standard spectrum data.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
<li><p><strong>compression</strong> (<em>str</em>) – Compression command line parameter, either “zlib” or “none”.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> | </em><em>None</em>) – Spectrum title to be used for MALDI data, defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_ms2_spectrum">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_ms2_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_scan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_ms2_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an MS/MS spectrum to an mzML file using psims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>writer</strong> (<em>psims.mzml.MzMLWriter</em>) – Instance of psims.mzml.MzMLWriter for output file.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> |
</em><a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – Object containing raw data information from TDF, TSF, or BAF file.</p></li>
<li><p><strong>scan</strong> (<em>dict</em>) – Dictionary containing standard spectrum data.</p></li>
<li><p><strong>encoding</strong> (<em>int</em>) – Encoding command line parameter, either “64” or “32”.</p></li>
<li><p><strong>compression</strong> (<em>str</em>) – Compression command line parameter, either “zlib” or “none”.</p></li>
<li><p><strong>parent_scan</strong> (<em>dict</em><em> | </em><em>None</em>) – Dictionary containing standard spectrum data for parent scan used to link MS/MS spectrum with
an MS1 spectrum.</p></li>
<li><p><strong>title</strong> (<em>str</em><em> | </em><em>None</em>) – Spectrum title to be used for MALDI data, defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="timsconvert.write.write_mzml_metadata">
<span class="sig-prename descclassname"><span class="pre">timsconvert.write.</span></span><span class="sig-name descname"><span class="pre">write_mzml_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2_only</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barebones_metadata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#timsconvert.write.write_mzml_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Write metadata to mzML file using psims. Includes spectral metadata, source files, software list, instrument
configuration, and data processing. Note that TIMSCONVERT is not included as a data processing step due to a lack
CV param and compatibility with downstream data analysis software.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#timsconvert.classes.TimsconvertTdfData" title="timsconvert.classes.TimsconvertTdfData"><em>timsconvert.classes.TimsconvertTdfData</em></a><em> | </em><a class="reference internal" href="#timsconvert.classes.TimsconvertTsfData" title="timsconvert.classes.TimsconvertTsfData"><em>timsconvert.classes.TimsconvertTsfData</em></a><em> |
</em><a class="reference internal" href="#timsconvert.classes.TimsconvertBafData" title="timsconvert.classes.TimsconvertBafData"><em>timsconvert.classes.TimsconvertBafData</em></a>) – Object containing raw data information from TDF, TSF, or BAF file.</p></li>
<li><p><strong>writer</strong> (<em>psims.mzml.MzMLWriter</em>) – Instance of psims.mzml.MzMLWriter for output file.</p></li>
<li><p><strong>infile</strong> (<em>str</em>) – Input file path to be used for source file metadata.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – Mode command line parameter, either “profile”, “centroid”, or “raw”.</p></li>
<li><p><strong>ms2_only</strong> (<em>bool</em>) – Whether to include MS1 data in the output files.</p></li>
<li><p><strong>barebones_metadata</strong> (<em>bool</em>) – If True, omit software and data processing metadata in the resulting mzML files. Used
for compatibility with downstream analysis software that does not have support for newer CV params or
UserParams.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-timsconvert">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-timsconvert" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TIMSCONVERT</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="local.html">Local Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="gnps.html">GNPS Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TIMSCONVERT Source Code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert.arguments">timsconvert.arguments module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert.classes">timsconvert.classes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert.constants">timsconvert.constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert.data_input">timsconvert.data_input module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timsconvert-init-bruker-dll-module">timsconvert.init_bruker_dll module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert.parse">timsconvert.parse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert.timestamp">timsconvert.timestamp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert.write">timsconvert.write module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-timsconvert">Module contents</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="advanced.html" title="previous chapter">Advanced Usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Gordon T. Luu.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/timsconvert.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>